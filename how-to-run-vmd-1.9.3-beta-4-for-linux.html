<!DOCTYPE html>
<html lang="en">

<head>
		<title>The lost library of Agraphur &mdash; How to run VMD 1.9.3 beta 4 for Linux</title>
		<meta charset="utf-8" />
		
		<!-- Fonts from google fonts -->
		<link href='http://fonts.googleapis.com/css?family=Lobster' rel='stylesheet' type='text/css'>
        <link href='http://fonts.googleapis.com/css?family=Cabin' rel='stylesheet' type='text/css'>
		<link rel='stylesheet' id='oswald-css' href='http://fonts.googleapis.com/css?family=Oswald&#038;ver=3.3.2' type='text/css' media='all' />
		
		<!-- Twitter stuff -->
		<script src="https://platform.twitter.com/widgets.js"></script>

        <!-- JQuery stuff -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script src="https://cdn.rawgit.com/leafo/sticky-kit/v1.1.2/jquery.sticky-kit.js"></script>

		<link rel="profile" href="http://gmpg.org/xfn/11" />
		<link rel="stylesheet" type="text/css" href="https://victor-gil-sepulveda.github.io/theme/css/style.css" />
		<style type="text/css">
			body.custom-background { background-color: #f5f5f5; }
		</style>
		<link rel="alternate" type="application/atom+xml"
			title="The lost library of Agraphur — Flux Atom"
			href="https://victor-gil-sepulveda.github.io/" /> 
		<!--[if lte IE 8]><script src="https://victor-gil-sepulveda.github.io/theme/js/html5shiv.js"></script><![endif]-->

        <script>
            $(document).ready(function(){
                console.log("Sticking");
                var FRONT_Z_INDEX = 9999;
                $("#menu").stick_in_parent();
                // We make the changes here so the can be undone easily
                // by only detaching the function
                $("#menu").css("z-index", FRONT_Z_INDEX);
                $("#menu").css("background-color",  $(document.body).css("background-color"));
            });
        </script>

</head>

<body class="home blog custom-background " >
	<div id="container">
		<div id="header">
				<h1 id="site-title"><a href="https://victor-gil-sepulveda.github.io">The lost library of Agraphur</a></h1>
<h2 id="site-description">Pieces from a whole</h2>		</div><!-- /#banner -->
		
		<div id="menu">
			<div class="menu-navigation-container" >
				<ul id="menu-navigation" class="menu">
					<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/">Home</a></li>
					<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/tags.html">Tags</a></li>
					<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/repositories_static.html">Repos</a></li>
					<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/cv.html">My CV</a></li>

					<li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://victor-gil-sepulveda.github.io/pages/about.html">About</a></li>

					<li class="menu-item-type-post_type menu-item-object-page" style="margin: 0px; padding: 0px; padding-left: 10px;float: right;width: 30px;"><a href="feeds/all.atom.xml" style="margin: 0px; padding: 0px" target="_blank"><img src='https://victor-gil-sepulveda.github.io/theme/images/feed.png' alt='Feed' style = 'margin:0px; padding:0px;'></a></li>
					<li class="menu-item-type-post_type menu-item-object-page" style="margin: 0px; padding: 0px; padding-left: 10px;float: right;width: 30px;"><a href="mailto:victor.gil.sepulveda@gmail.com" style="margin: 0px; padding: 0px" target="_blank"><img src='https://victor-gil-sepulveda.github.io/theme/images/contact.png' alt='Contact' style = 'margin:0px; padding:0px;'></a></li>
					<li class="menu-item-type-post_type menu-item-object-page" style="margin: 0px; padding: 0px; padding-left: 10px;float: right;width: 30px;"><a href="https://twitter.com/intent/follow?screen_name=vgilsep" style="margin: 0px; padding: 0px" target="_blank"><img src='https://victor-gil-sepulveda.github.io/theme/images/twitter.png' alt='Twitter' style = 'margin:0px; padding:0px;'></a></li>
					<li class="menu-item-type-post_type menu-item-object-page" style="margin: 0px; padding: 0px; padding-left: 10px;float: right;width: 30px;"><a href="https://es.linkedin.com/in/víctor-a-gil-4509b0115" style="margin: 0px; padding: 0px" target="_blank"><img src='https://victor-gil-sepulveda.github.io/theme/images/linked-in.png' alt='LinkedIn' style = 'margin:0px; padding:0px;'></a></li>
					<li class="menu-item-type-post_type menu-item-object-page" style="margin: 0px; padding: 0px; padding-left: 10px;float: right;width: 30px;"><a href="https://plus.google.com/u/0/110041683601844851417" style="margin: 0px; padding: 0px" target="_blank"><img src='https://victor-gil-sepulveda.github.io/theme/images/google-plus.png' alt='Google+' style = 'margin:0px; padding:0px;'></a></li>
				</ul>
			</div> <!--/#menu-navigation-container-->
		</div><!-- /#menu -->
		
		<div class="page-title">
		</div>
	
		<div > <!--id="contents"-->


<div id= "contents">
    <div class="post type-post status-publish format-standard hentry category-general" id="post">
	    <div class="entry-meta">
		    <div class="date"><a href="https://victor-gil-sepulveda.github.io/how-to-run-vmd-1.9.3-beta-4-for-linux.html">Tue 08 November 2016</a></div>
		    <span class="byline">By <a href="https://victor-gil-sepulveda.github.io/author/victor-a-gil.html">Víctor A. Gil</a></span>
			    <div class="comments"><a href="https://victor-gil-sepulveda.github.io/how-to-run-vmd-1.9.3-beta-4-for-linux.html#disqus_thread" title="Comment on How to run VMD 1.9.3 beta 4 for Linux">comments</a></div>
			    <span class="cat-links"><a href="https://victor-gil-sepulveda.github.io/category/posts.html" title="View all posts in posts" rel="category tag">posts</a></span>
	    </div> <!-- /#entry-meta -->
	    <div class="main">
		    <h2 class="entry-title">
			    <a href="https://victor-gil-sepulveda.github.io/how-to-run-vmd-1.9.3-beta-4-for-linux.html" title="Permalink to How to run VMD 1.9.3 beta 4 for Linux" rel="bookmark">How to run VMD 1.9.3 beta 4 for Linux</a>
		    </h2>
		    <div class="entry-content">
			    
<p><a class="reference external" href="http://www.ks.uiuc.edu/Research/vmd/">VMD</a> is, without any doubt, one of the most used free molecular visualizers out there. The only problem this software has is that the guys of the T&amp;CB group at the university of Illinois do not update it very often. We must be happy then that a new beta version has landed the last 28th of October.</p>

<p>The problem of beta versions is that, well, they are beta. Beta versions are considered to be unstable and contain unknown bugs that users can discover and report. Isn't it fun?</p>
<p>In this case, a minor error avoids some users from enjoying this marvelous software. In order to install it in a 64 bit Linux machine, just download the proper tar.gz file (e.g. <em>LINUX_64OpenGL,CUDA,OptiX,OSPRay</em>), uncompress it wherever you want, enter the folder and run ./configure with the options you want (running it without options will print them). To be honest, I do not really know if the options you choose will modify the final result. This is an example:</p>
<div class="highlight"><pre><span></span>&gt; tar -xvf vmd-1.9.3beta4.bin.LINUXAMD64-CUDA8-OptiX4-OSPRay111.opengl.tar.gz
&gt; <span class="nb">cd</span> vmd-1.9.3beta4/
&gt; ./configure LINUXAMD64 OPENGL LIBTACHYON TCL PYTHON PTHREADS NUMPY
&gt; <span class="nb">cd</span> src
&gt; sudo make install
</pre></div>
<p>and we are done! Just run <code class="bash">vmd</code> in a console emulator and you can start enjo... wait! what happened!</p>
<div class="highlight"><pre><span></span>&gt; vmd
/usr/local/bin/vmd: 331: /usr/local/bin/vmd: Syntax error: <span class="s2">&quot;else&quot;</span> unexpected <span class="o">(</span>expecting <span class="s2">&quot;then&quot;</span><span class="o">)</span>
</pre></div>
<p>Ok, so this is one of these unknown bugs I mentioned before. However, we are lucky that this one is quite simple. A quick inspection of the vmd launcher script (you can find the file using <code class="bash">which vmd</code>) reveals that a <code class="bash"><span class="k">then</span></code> statement is missing (after line 329):</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>323
324
325
326
327
328
329
330
331
332
333</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Test to see if a 64-bit version of VMD exists</span>
<span class="c1"># in the installation directory, and use the 64-bit</span>
<span class="c1"># version if it is there.</span>
<span class="k">if</span> <span class="o">[</span> -x <span class="s2">&quot;</span><span class="si">${</span><span class="nv">VMDDIR</span><span class="si">}</span><span class="s2">/</span><span class="si">${</span><span class="nv">vmdbasename</span><span class="si">}</span><span class="s2">_LINUXPPC64LE&quot;</span> <span class="o">]</span>
<span class="k">then</span>
    <span class="nv">ARCH</span><span class="o">=</span>LINUXPPC64LE
<span class="k">elif</span> <span class="o">[</span> -x <span class="s2">&quot;</span><span class="si">${</span><span class="nv">VMDDIR</span><span class="si">}</span><span class="s2">/</span><span class="si">${</span><span class="nv">vmdbasename</span><span class="si">}</span><span class="s2">_OPENPOWER&quot;</span> <span class="o">]</span>
    <span class="nv">ARCH</span><span class="o">=</span>OPENPOWER
<span class="k">else</span>
    <span class="nv">ARCH</span><span class="o">=</span>SUMMIT
<span class="k">fi</span>
</pre></div>
</td></tr></table><p>Just add the missing <code class="bash"><span class="k">then</span></code> statement, and it will finally work.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>323
324
325
326
327
328
329
330
331
332
333
334</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Test to see if a 64-bit version of VMD exists</span>
<span class="c1"># in the installation directory, and use the 64-bit</span>
<span class="c1"># version if it is there.</span>
<span class="k">if</span> <span class="o">[</span> -x <span class="s2">&quot;</span><span class="si">${</span><span class="nv">VMDDIR</span><span class="si">}</span><span class="s2">/</span><span class="si">${</span><span class="nv">vmdbasename</span><span class="si">}</span><span class="s2">_LINUXPPC64LE&quot;</span> <span class="o">]</span>
<span class="k">then</span>
    <span class="nv">ARCH</span><span class="o">=</span>LINUXPPC64LE
<span class="k">elif</span> <span class="o">[</span> -x <span class="s2">&quot;</span><span class="si">${</span><span class="nv">VMDDIR</span><span class="si">}</span><span class="s2">/</span><span class="si">${</span><span class="nv">vmdbasename</span><span class="si">}</span><span class="s2">_OPENPOWER&quot;</span> <span class="o">]</span>
<span class="hll"><span class="k">then</span>
</span>    <span class="nv">ARCH</span><span class="o">=</span>OPENPOWER
<span class="k">else</span>
    <span class="nv">ARCH</span><span class="o">=</span>SUMMIT
<span class="k">fi</span>
</pre></div>
</td></tr></table><p>Hope it helps!</p>

		    </div> <!--/#entry-content-->
	    </div> <!--/#main-->
    </div>  <!--/#post-->
</div>

	<div id="comments">
		<div id="respond">
			<div id="disqus_thread"></div>
	        <script type="text/javascript">
	            var disqus_shortname = 'thelostlibraryofagraphur';
	
	            /* * * DON'T EDIT BELOW THIS LINE * * */
	            (function() {
	                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	                dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
	                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	            })();
	        </script>
	        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
		</div><!-- #respond -->					
    </div><!-- #comments -->

		</div>
		
		<div id="footer">
			<p>Powered by <a href="http://getpelican.com">Pelican</a>, theme based on pelican-chunk by <a href="http://bunnyman.info">tBunnyMan</a>.</p>
				<script type="text/javascript">
					var _gaq = _gaq || [];
					_gaq.push(['_setAccount', 'UA-52604711-1']);
					_gaq.push(['_trackPageview']);
					(function() {
						var ga = document.createElement('script'); 
						ga.type = 'text/javascript'; ga.async = true;
						ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
						var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
					})();
				</script>
<script type="text/javascript">
    var disqus_shortname = 'thelostlibraryofagraphur';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>		</div><!-- /#footer -->
	</div><!-- /#container -->
	<div style="display:none"></div>
</body>
</html>