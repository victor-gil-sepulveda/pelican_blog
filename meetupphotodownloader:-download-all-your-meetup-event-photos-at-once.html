<!DOCTYPE html>
<html lang="en">

<head>
		<title>The lost library of Agraphur &mdash; Meetup Photo Downloader: download all your Meetup event photos at once</title>
		<meta charset="utf-8" />
		
		<!-- Fonts from google fonts -->
		<link href='http://fonts.googleapis.com/css?family=Lobster' rel='stylesheet' type='text/css'>
        <link href='http://fonts.googleapis.com/css?family=Cabin' rel='stylesheet' type='text/css'>
		<link rel='stylesheet' id='oswald-css' href='http://fonts.googleapis.com/css?family=Oswald&#038;ver=3.3.2' type='text/css' media='all' />
		
		<!-- Twitter stuff -->
		<script src="https://platform.twitter.com/widgets.js"></script>

        <!-- JQuery stuff -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script src="https://cdn.rawgit.com/leafo/sticky-kit/v1.1.2/jquery.sticky-kit.js"></script>

		<link rel="profile" href="http://gmpg.org/xfn/11" />
		<link rel="stylesheet" type="text/css" href="https://victor-gil-sepulveda.github.io/theme/css/style.css" />
		<style type="text/css">
			body.custom-background { background-color: #f5f5f5; }
		</style>
		<link rel="alternate" type="application/atom+xml"
			title="The lost library of Agraphur — Flux Atom"
			href="https://victor-gil-sepulveda.github.io/" /> 
		<!--[if lte IE 8]><script src="https://victor-gil-sepulveda.github.io/theme/js/html5shiv.js"></script><![endif]-->

        <script>
            $(document).ready(function(){
                console.log("Sticking");
                var FRONT_Z_INDEX = 9999;
                $("#menu").stick_in_parent();
                // We make the changes here so the can be undone easily
                // by only detaching the function
                $("#menu").css("z-index", FRONT_Z_INDEX);
                $("#menu").css("background-color",  $(document.body).css("background-color"));
            });
        </script>

</head>

<body class="home blog custom-background " >
	<div id="container">
		<div id="header">
				<h1 id="site-title"><a href="https://victor-gil-sepulveda.github.io">The lost library of Agraphur</a></h1>
<h2 id="site-description">Pieces from a whole</h2>		</div><!-- /#banner -->
		
		<div id="menu">
			<div class="menu-navigation-container" >
				<ul id="menu-navigation" class="menu">
					<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/">Home</a></li>
					<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/tags.html">Tags</a></li>
					<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/repositories_static.html">Repos</a></li>
					<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/cv.html">My CV</a></li>


					<li class="menu-item-type-post_type menu-item-object-page" style="margin: 0px; padding: 0px; padding-left: 10px;float: right;width: 30px;"><a href="feeds/all.atom.xml" style="margin: 0px; padding: 0px" target="_blank"><img src='https://victor-gil-sepulveda.github.io/theme/images/feed.png' alt='Feed' style = 'margin:0px; padding:0px;'></a></li>
					<li class="menu-item-type-post_type menu-item-object-page" style="margin: 0px; padding: 0px; padding-left: 10px;float: right;width: 30px;"><a href="mailto:victor.gil.sepulveda@gmail.com" style="margin: 0px; padding: 0px" target="_blank"><img src='https://victor-gil-sepulveda.github.io/theme/images/contact.png' alt='Contact' style = 'margin:0px; padding:0px;'></a></li>
					<li class="menu-item-type-post_type menu-item-object-page" style="margin: 0px; padding: 0px; padding-left: 10px;float: right;width: 30px;"><a href="https://twitter.com/intent/follow?screen_name=vgilsep" style="margin: 0px; padding: 0px" target="_blank"><img src='https://victor-gil-sepulveda.github.io/theme/images/twitter.png' alt='Twitter' style = 'margin:0px; padding:0px;'></a></li>
					<li class="menu-item-type-post_type menu-item-object-page" style="margin: 0px; padding: 0px; padding-left: 10px;float: right;width: 30px;"><a href="https://es.linkedin.com/in/víctor-a-gil-4509b0115" style="margin: 0px; padding: 0px" target="_blank"><img src='https://victor-gil-sepulveda.github.io/theme/images/linked-in.png' alt='LinkedIn' style = 'margin:0px; padding:0px;'></a></li>
					<li class="menu-item-type-post_type menu-item-object-page" style="margin: 0px; padding: 0px; padding-left: 10px;float: right;width: 30px;"><a href="https://plus.google.com/u/0/110041683601844851417" style="margin: 0px; padding: 0px" target="_blank"><img src='https://victor-gil-sepulveda.github.io/theme/images/google-plus.png' alt='Google+' style = 'margin:0px; padding:0px;'></a></li>
				</ul>
			</div> <!--/#menu-navigation-container-->
		</div><!-- /#menu -->
		
		<div class="page-title">
		</div>
	
		<div > <!--id="contents"-->


<div id= "contents">
    <div class="post type-post status-publish format-standard hentry category-general" id="post">
	    <div class="entry-meta">
		    <div class="date"><a href="https://victor-gil-sepulveda.github.io/meetupphotodownloader:-download-all-your-meetup-event-photos-at-once.html">Wed 28 December 2016</a></div>
		    <span class="byline">By <a href="https://victor-gil-sepulveda.github.io/author/victor-a-gil.html">Víctor A. Gil</a></span>
			    <div class="comments"><a href="https://victor-gil-sepulveda.github.io/meetupphotodownloader:-download-all-your-meetup-event-photos-at-once.html#disqus_thread" title="Comment on Meetup Photo Downloader: download all your Meetup event photos at once">comments</a></div>
			    <span class="cat-links"><a href="https://victor-gil-sepulveda.github.io/category/posts.html" title="View all posts in posts" rel="category tag">posts</a></span>
	    </div> <!-- /#entry-meta -->
	    <div class="main">
		    <h2 class="entry-title">
			    <a href="https://victor-gil-sepulveda.github.io/meetupphotodownloader:-download-all-your-meetup-event-photos-at-once.html" title="Permalink to Meetup Photo Downloader: download all your Meetup event photos at once" rel="bookmark">Meetup Photo Downloader: download all your Meetup event photos at once</a>
		    </h2>
		    <div class="entry-content">
			    
<p>Recently I rediscovered <a class="reference external" href="https://www.meetup.com">Meetup</a>. It is a web platform where people can propose and join events that range from tech talks to mountain hikes. It offers tools to contact the people, organizing the event and, eventually, to upload photos. Users can upload groups of photos in a very convenient way, but the problem comes when another user wants to download them: she has to download them one by one. I have been there: it is quite tedious.</p>

<p>The goal of this project was to create a <strong>static web application</strong> that automates the downloading of all the photos related to a Meetup event. The idea is that the user selects a group and the event he is interested in, and then the web app downloads all the photos in a nicely packed in a zip file. As easy as that!</p>
<p>The Meetup Photo Downloader has been uploaded <a class="reference external" href="http://www.thelostlib.com/MeetupPhotoDownloader/">here</a>. The code has been released under MIT license, and can be found <a class="reference external" href="https://github.com/victor-gil-sepulveda/MeetupPhotoDownloader">here</a>.</p>
<div class="section" id="technologies-and-methods-used">
<h2>Technologies and methods used</h2>
<div class="section" id="jquery">
<h3>Jquery</h3>
<p>Even if there are other alternatives for HTML manipulation, this is the one I am more comfortable with. I did not learn new things about it, but it is always useful to remember!</p>
</div>
<div class="section" id="meetup-rest-api">
<h3>Meetup REST API</h3>
<p>In order to get the user data from Meetup I have used their <a class="reference external" href="https://www.meetup.com/es-ES/meetup_api/">API</a>. Whatever you can do with their platform you can do it with their API. Using their endpoints is not trivial, but after reviewing their documentation a couple of times, and going through the examples, it becomes doable.</p>
<p>The API cannot be used without being an valid Meetup user, that is why the first thing the app needs to login into meetup in order to get a session key. This is achieved by redirecting to a login URL, which, after the login, will redirect again to the return page you have specified. The redirected url will contain the needed session data, and has to be parsed.</p>
<p>The scheme to use the other API calls is easier. One just needs to connect to the endpoint and GET the JSON data. I just used two of them, one to obtain the group and event information, and the other to retrieve the photos for a given event.</p>
</div>
<div class="section" id="image-downloading">
<h3>Image downloading</h3>
<p>Downloading an image from a server in a different domain can be a pain in the ass. Period. Thanks to God I am not the first one having this issue. Henry Algus shows <a class="reference external" href="http://www.henryalgus.com/reading-binary-files-using-jquery-ajax/">here</a> a suitable way to address this problem, along with a JQuery plugin.</p>
<p>The code needed to download a photo becomes:</p>
<pre class="code javascript literal-block">
<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
            <span class="nx">url</span><span class="o">:</span> <span class="p">[</span><span class="o">--</span><span class="nx">URL</span><span class="o">--</span><span class="p">],</span>
            <span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;GET&quot;</span><span class="p">,</span>
            <span class="nx">crossDomain</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="nx">xhrFields</span><span class="o">:</span> <span class="p">{</span><span class="nx">cors</span><span class="o">:</span> <span class="kc">false</span><span class="p">},</span>
            <span class="nx">dataType</span><span class="o">:</span> <span class="s1">'binary'</span><span class="p">,</span>
            <span class="nx">processData</span><span class="o">:</span> <span class="kc">false</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">done</span><span class="p">(...)</span>
<span class="p">.</span><span class="nx">fail</span><span class="p">(...)</span>
</pre>
</div>
<div class="section" id="responsive-design">
<h3>Responsive design</h3>
<p>I also wanted to experiment with responsive design, i.e. a design that changes as the screen size varies.</p>
<p>For the layout I used <a class="reference external" href="http://getskeleton.com/">skeleton.js</a>, more specifically, its grid feature. Skeleton allows the designer to define grids and rows that will stack gracefully when the viewport size decreases.</p>
<p>For the responsive image header I used the &lt;picture&gt; tag. I decided that I wanted to try with an svg image first. If the browser cannot render <em>svg</em>, the fallback is a set of png images of decreasing size, each associated with a different range of viewport sizes.</p>
<pre class="code html literal-block">
<span class="p">&lt;</span><span class="nt">picture</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">source</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;image/svg+xml&quot;</span> <span class="na">srcset</span><span class="o">=</span><span class="s">&quot;img/meetup.svg&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">source</span> <span class="na">srcset</span><span class="o">=</span><span class="s">&quot;img/header.big.png&quot;</span> <span class="na">media</span><span class="o">=</span><span class="s">&quot;(min-width: 1000px)&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">source</span> <span class="na">srcset</span><span class="o">=</span><span class="s">&quot;img/header.med.png&quot;</span> <span class="na">media</span><span class="o">=</span><span class="s">&quot;(min-width: 540px)&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">source</span> <span class="na">srcset</span><span class="o">=</span><span class="s">&quot;img/header.sma.png&quot;</span> <span class="na">media</span><span class="o">=</span><span class="s">&quot;(min-width: 0px)&quot;</span><span class="p">&gt;</span>

        <span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;img/header.med.png&quot;</span>
            <span class="na">alt</span><span class="o">=</span><span class="s">&quot;Meetup Photo Downloader&quot;</span>
            <span class="na">style</span><span class="o">=</span><span class="s">&quot;width:100%;margin-bottom:40px;margin-top:40px;&quot;</span>
        <span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">picture</span><span class="p">&gt;</span>
</pre>
</div>
<div class="section" id="unit-testing">
<h3>Unit testing</h3>
<p>I must admit this was one of the things I was most interested into, as I had never used a unit testing approach before with Javascript. For the unit testing I used Node + Mocha + Chai ( <a class="reference external" href="http://nodeguide.com/beginner.html">this site</a> gives a good explanation on how to use both).</p>
</div>
<div class="section" id="callback-hell">
<h3>&quot;Callback hell&quot;</h3>
<p>I made extensive use of promises and arrays of promises where possible. Again, this is another feature I had never used until now.</p>
</div>
<div class="section" id="advertisements">
<h3>Advertisements</h3>
<p>And finally, another thing I never did. I was just curious about how adding adds to a web page felt. I tried with Google adSense, but they did not accept me. Then I tried with Chitika. The experience has been good so far.</p>
<p>One of the biggest problems I found was choosing where to place the add banner, specially because it disrupts the design of the page.</p>
</div>
</div>
<div class="section" id="criticism">
<h2>Criticism</h2>
<p>As with all the other projects I have been coding lately, I did this one for the sake of learning. This means I put more care into some parts ... and less or nothing in some other aspects.</p>
<p>One of the things I am less proud off are the modal dialog. In the past I used <a class="reference external" href="https://jqueryui.com/">JQuery UI</a> for this, but this time I wanted to do something from scratch. The result really needs some improvement.</p>
<p>The markup is full of inline styles (yuck!) which also break the &quot;responsiveness&quot; of the design.</p>
<p>I should do a bigger effort into separating the MVC components... and tidy up the main.js file a bit. It is really messy.</p>
<p>Finally, in my opinion the most urgent improvements would be to localize the text to more languages (for instance using <a class="reference external" href="https://github.com/eligrey/l10n.js/">l10n</a>, to test the remaining parts with a headless browser and to polish the overall design and error handling.</p>
<p>I hope the app fits your needs. If not, use the comments to suggest new improvements!!</p>
</div>

		    </div> <!--/#entry-content-->
	    </div> <!--/#main-->
    </div>  <!--/#post-->
</div>

	<div id="comments" style="width: 850px;">
		<div id="respond">
			<div id="disqus_thread"></div>
	        <script type="text/javascript">
	            var disqus_shortname = 'thelostlibraryofagraphur';
	
	            /* * * DON'T EDIT BELOW THIS LINE * * */
	            (function() {
	                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	                dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
	                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	            })();
	        </script>
	        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
		</div><!-- #respond -->					
    </div><!-- #comments -->

		</div>
		
		<div id="footer">
			<p>Powered by <a href="http://getpelican.com">Pelican</a>, theme based on pelican-chunk by <a href="http://bunnyman.info">tBunnyMan</a>.</p>
				<script type="text/javascript">
					var _gaq = _gaq || [];
					_gaq.push(['_setAccount', 'UA-52604711-1']);
					_gaq.push(['_trackPageview']);
					(function() {
						var ga = document.createElement('script'); 
						ga.type = 'text/javascript'; ga.async = true;
						ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
						var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
					})();
				</script>
<script type="text/javascript">
    var disqus_shortname = 'thelostlibraryofagraphur';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>		</div><!-- /#footer -->
	</div><!-- /#container -->
	<div style="display:none"></div>
</body>
</html>