<!DOCTYPE html>
<html lang="en">

<head>
		<title>The lost library of Agraphur &mdash; Blogging with Pelican: Experimental Setup</title>
		<meta charset="utf-8" />
		
		<!-- Fonts from google fonts -->
		<link href='http://fonts.googleapis.com/css?family=Lobster' rel='stylesheet' type='text/css'>
        <link href='http://fonts.googleapis.com/css?family=Cabin' rel='stylesheet' type='text/css'>
		<link rel='stylesheet' id='oswald-css' href='http://fonts.googleapis.com/css?family=Oswald&#038;ver=3.3.2' type='text/css' media='all' />
		
		<!-- Twitter stuff -->
		<script src="https://platform.twitter.com/widgets.js"></script>

        <!-- JQuery stuff -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script src="https://cdn.rawgit.com/leafo/sticky-kit/v1.1.2/jquery.sticky-kit.js"></script>

		<link rel="profile" href="http://gmpg.org/xfn/11" />
		<link rel="stylesheet" type="text/css" href="https://victor-gil-sepulveda.github.io/theme/css/style.css" />
		<style type="text/css">
			body.custom-background { background-color: #f5f5f5; }
		</style>
		<link rel="alternate" type="application/atom+xml"
			title="The lost library of Agraphur — Flux Atom"
			href="https://victor-gil-sepulveda.github.io/" /> 
		<!--[if lte IE 8]><script src="https://victor-gil-sepulveda.github.io/theme/js/html5shiv.js"></script><![endif]-->

        <script>
            $(document).ready(function(){
                console.log("Sticking");
                var FRONT_Z_INDEX = 9999;
                $("#menu").stick_in_parent();
                // We make the changes here so the can be undone easily
                // by only detaching the function
                $("#menu").css("z-index", FRONT_Z_INDEX);
                $("#menu").css("background-color",  $(document.body).css("background-color"));
            });
        </script>

</head>

<body class="home blog custom-background " >
	<div id="container">
		<div id="header">
				<h1 id="site-title"><a href="https://victor-gil-sepulveda.github.io">The lost library of Agraphur</a></h1>
<h2 id="site-description">Pieces from a whole</h2>		</div><!-- /#banner -->
		
		<div id="menu">
			<div class="menu-navigation-container" >
				<ul id="menu-navigation" class="menu">
					<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/">Home</a></li>
					<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/tags.html">Tags</a></li>
					<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/repositories_static.html">Repos</a></li>
					<li  class="active" class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/cv.html">My CV</a></li>


					<li class="menu-item-type-post_type menu-item-object-page" style="margin: 0px; padding: 0px; padding-left: 10px;float: right;width: 30px;"><a href="feeds/all.atom.xml" style="margin: 0px; padding: 0px" target="_blank"><img src='https://victor-gil-sepulveda.github.io/theme/images/feed.png' alt='Feed' style = 'margin:0px; padding:0px;'></a></li>
					<li class="menu-item-type-post_type menu-item-object-page" style="margin: 0px; padding: 0px; padding-left: 10px;float: right;width: 30px;"><a href="mailto:victor.gil.sepulveda@gmail.com" style="margin: 0px; padding: 0px" target="_blank"><img src='https://victor-gil-sepulveda.github.io/theme/images/contact.png' alt='Contact' style = 'margin:0px; padding:0px;'></a></li>
					<li class="menu-item-type-post_type menu-item-object-page" style="margin: 0px; padding: 0px; padding-left: 10px;float: right;width: 30px;"><a href="https://twitter.com/intent/follow?screen_name=vgilsep" style="margin: 0px; padding: 0px" target="_blank"><img src='https://victor-gil-sepulveda.github.io/theme/images/twitter.png' alt='Twitter' style = 'margin:0px; padding:0px;'></a></li>
					<li class="menu-item-type-post_type menu-item-object-page" style="margin: 0px; padding: 0px; padding-left: 10px;float: right;width: 30px;"><a href="https://es.linkedin.com/in/víctor-a-gil-4509b0115" style="margin: 0px; padding: 0px" target="_blank"><img src='https://victor-gil-sepulveda.github.io/theme/images/linked-in.png' alt='LinkedIn' style = 'margin:0px; padding:0px;'></a></li>
					<li class="menu-item-type-post_type menu-item-object-page" style="margin: 0px; padding: 0px; padding-left: 10px;float: right;width: 30px;"><a href="https://plus.google.com/u/0/110041683601844851417" style="margin: 0px; padding: 0px" target="_blank"><img src='https://victor-gil-sepulveda.github.io/theme/images/google-plus.png' alt='Google+' style = 'margin:0px; padding:0px;'></a></li>
				</ul>
			</div> <!--/#menu-navigation-container-->
		</div><!-- /#menu -->
		
		<div class="page-title">
		</div>
	
		<div > <!--id="contents"-->


<div id= "contents">
    <div class="post type-post status-publish format-standard hentry category-general" id="post">
	    <div class="entry-meta">
		    <div class="date"><a href="https://victor-gil-sepulveda.github.io/blogging-with-pelican:-experimental-setup.html">Tue 25 October 2016</a></div>
		    <span class="byline">By <a href="https://victor-gil-sepulveda.github.io/author/victor-a-gil.html">Víctor A. Gil</a></span>
			    <div class="comments"><a href="https://victor-gil-sepulveda.github.io/blogging-with-pelican:-experimental-setup.html#disqus_thread" title="Comment on Blogging with Pelican: Experimental Setup">comments</a></div>
			    <span class="cat-links"><a href="https://victor-gil-sepulveda.github.io/category/posts.html" title="View all posts in posts" rel="category tag">posts</a></span>
	    </div> <!-- /#entry-meta -->
	    <div class="main">
		    <h2 class="entry-title">
			    <a href="https://victor-gil-sepulveda.github.io/blogging-with-pelican:-experimental-setup.html" title="Permalink to Blogging with Pelican: Experimental Setup" rel="bookmark">Blogging with Pelican: Experimental Setup</a>
		    </h2>
		    <div class="entry-content">
			    
<p>Before getting serious into blogging with Pelican, there are two main concerns that must be solved: how to isolate it and all its dependencies from your current Python installation, and how to effectively manage version control.</p>

<p>For the first issue, the usual recommendation is to install Pelican in a new Python environment (e.g. using <a class="reference external" href="https://virtualenv.pypa.io/en/stable/">virtualenv</a>)with and to always work using it. I totally hate environment-based setups. Do not ask me why, I have not found any reason but laziness.</p>
<p>Solving the second one can be a bit tricky. In every Pelican project you can distinguish up to 3 main &quot;areas&quot; of your workspace. The first one is the root folder itself, which contains the configuration and the theme you want to use. The second is the &quot;contents&quot; folder, which holds the source files that will generate your blog's posts and pages. And the third one is the &quot;output&quot; folder, which holds the actual HTML of the posts and pages, plus all the other goodies that must be uploaded in order to have a working web page. So, at the end of the day one can distinguish between two main group of files, the source ones and the generated ones. The problem here is that, in order to publish your blog using Github pages, you must commit only the contents of your &quot;output&quot; folder to the repository, but not the source ones (which you may want to commit somewhere else in order to track your changes!).</p>
<p>The customary solution for this consists in creating two different repositories, one for the source files and the other for publishing (&quot;output&quot; folder). The &quot;output&quot; repository is eventually included into the other as a submodule.</p>
<div class="section" id="my-setup">
<h2>My setup</h2>
<p>As I have mentioned, I preferred to implement an experimental approach to the setup that allowed me to learn new things. First, I wanted to completely separate the source files of the project from the generated files, as well as to detach the editing process from the generation process. My solution has been to use a Virtual Machine (handled with <a class="reference external" href="https://www.vagrantup.com/">Vagrant</a>) where the generation will take place.</p>
<p>In brief, the root folder of the project (shared folder from the VM perspective) holds all source and configuration files and is associated to a branch called &quot;source&quot; of my Github pages repo. The first time I tell Vagrant to start the VM, it will install Pelican and all its needed packages. All the other times, it just regenerates the Pelican project structure into /home/vagrant/blog and creates symbolic links that point to the needed source files in the shared folder. This allows me to maintain the source file tree separated from the output and to set the folder structure I find more convenient (see the <a class="reference external" href="https://github.com/victor-gil-sepulveda/victor-gil-sepulveda.github.io/tree/source">source</a> branch to see what I am talking about). Also, it allows me to start Pelican's included HTTP server from the VM and mimic the access to a real remote web server. The output folder remains untracked though, it will get published in a different way (stay tuned!).</p>
<p>To summarize, this setup allows me to overcome some of the problems I have found using Octopress. First and foremost, it is all Python and I understand what is happening in the background. Also, the incredibly complex file tree generated by Octopress gets seamlessly simplified and the folder structure makes sense to me. Maybe not to the rest of the world, but in this case I will be the only one working here, isn't it?. Finally, having the source files are totally separated from the generation process allows a safer workflow. I think that now it is highly improbable that my files get lost due to Pelican updates, as it happened with Octopress.</p>
</div>

		    </div> <!--/#entry-content-->
        		<span class="tag-links"><strong>Tagged</strong>
 <a href="https://victor-gil-sepulveda.github.io/tag/github-pages.html" rel="tag">Github Pages</a>,  <a href="https://victor-gil-sepulveda.github.io/tag/pelican.html" rel="tag">Pelican</a>,  <a href="https://victor-gil-sepulveda.github.io/tag/vagrant.html" rel="tag">Vagrant</a>        		</span>
	    </div> <!--/#main-->
    </div>  <!--/#post-->
</div>

	<div id="comments" style="width: 850px;">
		<div id="respond">
			<div id="disqus_thread"></div>
	        <script type="text/javascript">
	            var disqus_shortname = 'thelostlibraryofagraphur';
	
	            /* * * DON'T EDIT BELOW THIS LINE * * */
	            (function() {
	                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	                dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
	                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	            })();
	        </script>
	        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
		</div><!-- #respond -->					
    </div><!-- #comments -->

		</div>
		
		<div id="footer">
			<p>Powered by <a href="http://getpelican.com">Pelican</a>, theme based on pelican-chunk by <a href="http://bunnyman.info">tBunnyMan</a>.</p>
				<script type="text/javascript">
					var _gaq = _gaq || [];
					_gaq.push(['_setAccount', 'UA-52604711-1']);
					_gaq.push(['_trackPageview']);
					(function() {
						var ga = document.createElement('script'); 
						ga.type = 'text/javascript'; ga.async = true;
						ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
						var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
					})();
				</script>
<script type="text/javascript">
    var disqus_shortname = 'thelostlibraryofagraphur';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>		</div><!-- /#footer -->
	</div><!-- /#container -->
	<div style="display:none"></div>
</body>
</html>